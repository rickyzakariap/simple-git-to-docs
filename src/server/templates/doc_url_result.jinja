{% extends "base.jinja" %}
{% block content %}
<div class="w-full max-w-xl bg-white rounded-xl shadow-lg p-8 border-2 border-gray-900 text-center">
    <h2 class="text-2xl font-bold mb-4 text-green-700">Documentation Generated!</h2>
    <p class="mb-2">Docs for <span class="font-mono text-blue-700">{{ repo_url }}</span></p>
    <div class="mb-4">
        <input id="doc-link" type="text" readonly value="{{ doc_link }}" class="w-full text-center border-2 border-yellow-400 rounded px-4 py-3 font-mono text-lg bg-yellow-50 focus:outline-none" />
    </div>
    <div class="flex flex-col md:flex-row gap-4 justify-center mb-4">
        <button onclick="copyDocLink()" class="bg-yellow-400 hover:bg-yellow-300 border-2 border-gray-900 text-gray-900 font-semibold rounded px-6 py-3 transition-all shadow-lg flex items-center gap-2">
            ðŸ“‹ Copy Link
        </button>
        <a href="{{ doc_link }}" target="_blank" class="bg-green-500 hover:bg-green-400 border-2 border-gray-900 text-white font-semibold rounded px-6 py-3 transition-all shadow-lg flex items-center gap-2">
            ðŸš€ Open Docs
        </a>
    </div>
    <div class="mb-4 text-gray-600 text-sm">
        <p>Share this link on your local network:</p>
        <code class="block bg-gray-100 border rounded px-2 py-1 mt-1">http://{{ local_ip }}:8000{{ doc_link }}</code>
        <span class="text-xs">(Make sure your server is running and accessible on your network)</span>
    </div>
    <form action="/" method="get" class="mt-6">
        <button type="submit" class="underline text-gray-600 hover:text-gray-900">Back to Home</button>
    </form>
</div>
<script>
function copyDocLink() {
    const input = document.getElementById('doc-link');
    input.select();
    input.setSelectionRange(0, 99999); // For mobile
    document.execCommand('copy');
    alert('Documentation link copied!');
}
</script>
{% endblock %} 